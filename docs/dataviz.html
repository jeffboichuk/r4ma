<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R for Marketing Analytics</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="R for Marketing Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://jeffboichuk.github.io/r4ma" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="jeffboichuk/r4ma" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R for Marketing Analytics" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Jeffrey Boichuk">
<meta name="author" content="Steven Mortimer">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="tools.html">
<link rel="next" href="datatransformation.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Marketing Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="marketing.html"><a href="marketing.html"><i class="fa fa-check"></i><b>1</b> What is Marketing?</a></li>
<li class="chapter" data-level="2" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>2</b> Tools at your Disposal</a><ul>
<li class="chapter" data-level="2.1" data-path="tools.html"><a href="tools.html#data"><i class="fa fa-check"></i><b>2.1</b> Data</a></li>
<li class="chapter" data-level="2.2" data-path="tools.html"><a href="tools.html#software"><i class="fa fa-check"></i><b>2.2</b> Software</a></li>
<li class="chapter" data-level="2.3" data-path="tools.html"><a href="tools.html#getting-started-with-r"><i class="fa fa-check"></i><b>2.3</b> Getting Started with R</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dataviz.html"><a href="dataviz.html"><i class="fa fa-check"></i><b>3</b> Data Visualizations</a><ul>
<li class="chapter" data-level="3.1" data-path="dataviz.html"><a href="dataviz.html#creating-a-canvas"><i class="fa fa-check"></i><b>3.1</b> Creating a Canvas</a></li>
<li class="chapter" data-level="3.2" data-path="dataviz.html"><a href="dataviz.html#adding-layers-of-geoms"><i class="fa fa-check"></i><b>3.2</b> Adding Layers of Geoms</a></li>
<li class="chapter" data-level="3.3" data-path="dataviz.html"><a href="dataviz.html#adding-labels-axes-and-legends"><i class="fa fa-check"></i><b>3.3</b> Adding Labels, Axes, and Legends</a></li>
<li class="chapter" data-level="3.4" data-path="dataviz.html"><a href="dataviz.html#faceting-data-by-group"><i class="fa fa-check"></i><b>3.4</b> Faceting Data by Group</a></li>
<li class="chapter" data-level="3.5" data-path="dataviz.html"><a href="dataviz.html#chart-types"><i class="fa fa-check"></i><b>3.5</b> Chart Types</a></li>
<li class="chapter" data-level="3.6" data-path="dataviz.html"><a href="dataviz.html#advanced-plotting"><i class="fa fa-check"></i><b>3.6</b> Advanced Plotting</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="datatransformation.html"><a href="datatransformation.html"><i class="fa fa-check"></i><b>4</b> Preparing and Transforming Data</a><ul>
<li class="chapter" data-level="4.1" data-path="datatransformation.html"><a href="datatransformation.html#data-pipelines"><i class="fa fa-check"></i><b>4.1</b> Data Pipelines</a></li>
<li class="chapter" data-level="4.2" data-path="datatransformation.html"><a href="datatransformation.html#selecting"><i class="fa fa-check"></i><b>4.2</b> Selecting</a></li>
<li class="chapter" data-level="4.3" data-path="datatransformation.html"><a href="datatransformation.html#mutating"><i class="fa fa-check"></i><b>4.3</b> Mutating</a></li>
<li class="chapter" data-level="4.4" data-path="datatransformation.html"><a href="datatransformation.html#grouped-mutates"><i class="fa fa-check"></i><b>4.4</b> Grouped Mutates</a></li>
<li class="chapter" data-level="4.5" data-path="datatransformation.html"><a href="datatransformation.html#summarizing"><i class="fa fa-check"></i><b>4.5</b> Summarizing</a></li>
<li class="chapter" data-level="4.6" data-path="datatransformation.html"><a href="datatransformation.html#spread-and-gather"><i class="fa fa-check"></i><b>4.6</b> Spread and Gather</a></li>
<li class="chapter" data-level="4.7" data-path="datatransformation.html"><a href="datatransformation.html#functions"><i class="fa fa-check"></i><b>4.7</b> Functions</a></li>
<li class="chapter" data-level="4.8" data-path="datatransformation.html"><a href="datatransformation.html#putting-it-all-together"><i class="fa fa-check"></i><b>4.8</b> Putting it all together</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="datastructures.html"><a href="datastructures.html"><i class="fa fa-check"></i><b>5</b> Data Structures</a><ul>
<li class="chapter" data-level="5.1" data-path="datastructures.html"><a href="datastructures.html#tidy-data"><i class="fa fa-check"></i><b>5.1</b> Tidy Data</a></li>
<li class="chapter" data-level="5.2" data-path="datastructures.html"><a href="datastructures.html#relational-data"><i class="fa fa-check"></i><b>5.2</b> Relational Data</a></li>
<li class="chapter" data-level="5.3" data-path="datastructures.html"><a href="datastructures.html#joins"><i class="fa fa-check"></i><b>5.3</b> Joins</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="measures.html"><a href="measures.html"><i class="fa fa-check"></i><b>6</b> Measures in Marketing</a><ul>
<li class="chapter" data-level="6.1" data-path="measures.html"><a href="measures.html#net-promoter-score"><i class="fa fa-check"></i><b>6.1</b> Net Promoter Score</a></li>
<li class="chapter" data-level="6.2" data-path="measures.html"><a href="measures.html#customer-lifetime-value"><i class="fa fa-check"></i><b>6.2</b> Customer Lifetime Value</a></li>
<li class="chapter" data-level="6.3" data-path="measures.html"><a href="measures.html#customer-satisfactioncustomer-delight"><i class="fa fa-check"></i><b>6.3</b> Customer Satisfaction/Customer Delight</a></li>
<li class="chapter" data-level="6.4" data-path="measures.html"><a href="measures.html#others-consult-ama-dictionary-for-more"><i class="fa fa-check"></i><b>6.4</b> Others? Consult AMA dictionary for more?</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fieldexp.html"><a href="fieldexp.html"><i class="fa fa-check"></i><b>7</b> Conducting Marketing Field Experiment</a></li>
<li class="chapter" data-level="8" data-path="mix.html"><a href="mix.html"><i class="fa fa-check"></i><b>8</b> Understanding Marketing Mix</a></li>
<li class="chapter" data-level="9" data-path="trade.html"><a href="trade.html"><i class="fa fa-check"></i><b>9</b> Pricing and Merchandising</a></li>
<li class="chapter" data-level="10" data-path="machinelearning.html"><a href="machinelearning.html"><i class="fa fa-check"></i><b>10</b> Machine Learning in Marketing</a></li>
<li class="chapter" data-level="11" data-path="action.html"><a href="action.html"><i class="fa fa-check"></i><b>11</b> Moving from Data to Action</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Marketing Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dataviz" class="section level1">
<h1><span class="header-section-number">3</span> Data Visualizations</h1>
<p>Good marketing tells a story, it evokes an emotion, and elicits a response. The same can be said about good data visualizations. In this chapter we will show you how to use the R package <strong>ggplot2</strong> to visualize different types of marketing data to tell your story.</p>
<div id="creating-a-canvas" class="section level2">
<h2><span class="header-section-number">3.1</span> Creating a Canvas</h2>
<p>The <strong>ggplot2</strong> package is an interesting solution because it does not provide a set of chart types that you can pick and choose. Microsoft Excel has always provided a fixed set of scattercharts, bar charts, and other popular visualizations. In contrast, ggplot2 an extensible system of commands that build literally any picture you’d like to create. Talented R users have created ggplot masterpieces, such as, the picture of Hadley.</p>
<p><img src="images/ch3-hadley-plot.jpg" /><br />
<strong><em> ADD CREDIT TO GARRETT GROLEMUND AND DAVID KAHLE </em></strong></p>
<p>Every ggplot visualization starts with a canvas. You can create a blank canvas using the function <code>ggplot()</code>. This function takes two arguments: 1) <code>data</code> and 2) <code>mapping</code>. You can think of the <code>data</code> argument as a pallete of information from which to construct the plot and and the <code>mapping</code> as the plan for how to structure that information (e.g. as the x-axis, y-axis, size, shape or color). Supplying these argument still stop short of actually creating a plot</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="co">#library(completejourney)</span>
<span class="co">#ggplot(data=iris, mapping=aes())</span></code></pre></div>
</div>
<div id="adding-layers-of-geoms" class="section level2">
<h2><span class="header-section-number">3.2</span> Adding Layers of Geoms</h2>
<p>Now that you’ve created a blank canvas, you need to add layers to it. In the canvas example above we used the <code>aes()</code> function, which is short for aesthetics. When you define the aesthetics in the top level <code>ggplot()</code> function call, it applies those aesthetics to every layer that subsequently gets applied to the plot. Layers is the core idea of constructing a plot. Every new layer gets added to the canvas via the plus sign (<code>+</code>). As an example, let’s add a set of points to the canvas. You can do this using the <code>geom_point()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ggplot(data=iris, mapping=aes()) + </span>
<span class="co">#   geom_point()</span></code></pre></div>
<p>A “geom” is shorthand for adding a layer to your plot of a specific geometric shape. Geoms are the heart of the plot because they define whether the plot is a line plot, scatterplot, or bar plot. In each of these examples, the geom would be <code>geom_line()</code>, <code>geom_point()</code> or <code>geom_bar()</code> and there are many more geom types to consider. The <strong>ggplot2</strong> package tries to makes things intuitive and easy to remember. However, if you need a list of all the geoms you can find them using tab completion in RStudio. Just type <code>geom_</code> in your RStudio console window , then press <code>TAB</code>. This will trigger the tab-completion feature in RStudio and show you the list of geoms that are available for you to use.</p>
<div class="figure">
<img src="images/ch3-geom-tab-completion.png" />

</div>
</div>
<div id="adding-labels-axes-and-legends" class="section level2">
<h2><span class="header-section-number">3.3</span> Adding Labels, Axes, and Legends</h2>
<p>With plots it is important to pay attention to the details. These details make an effective plot and just like Microsoft Excel allows you to add and customize each element, so does ggplot. The trick is knowing which functions to use so in this section we will introduce a laundry list of them and then present all of them together to create a single polished plot.</p>
<p>scale_x_continuous, scale_x_discrete scale_y_continuous, scale_y_continuous</p>
<p>We highly recommend using the <strong>scales</strong> package when plotting. It comes with a variety of functions to make the scale of axes easier to read.</p>
<p>labs()</p>
<p>guide()</p>
</div>
<div id="faceting-data-by-group" class="section level2">
<h2><span class="header-section-number">3.4</span> Faceting Data by Group</h2>
<p>A common research question is comparing a response across groups. The best way to visualize these relationships is to use the <code>facet_grid()</code> function. A facet creates a panel of plots with one for each value in the grouping variable. In the example below we have created a histogram for each Species in the iris dataset (<strong>NOTE: REPLACE WITH MKTING EXAMPLE</strong>).</p>
<p>One important aspect to remember when creating facet charts is the scale of the axes. You can accidentally, and purposefully, mislead readers by having the same metric plotted on two different axis scales. <strong>IS THIS THE default behavior for the <code>facet_grid()</code></strong></p>
<p>The syntax for facetting data has changed over time, from formula notation to a newer style. You may see examples online that use this older notation like so <code>facet_grid(.~var)</code>. This is equivalent to <code>facet_grid(cols=vars(var))</code>.</p>
</div>
<div id="chart-types" class="section level2">
<h2><span class="header-section-number">3.5</span> Chart Types</h2>
<p>Marketing Specific Charts? pie chart? a critique on pie charts</p>
</div>
<div id="advanced-plotting" class="section level2">
<h2><span class="header-section-number">3.6</span> Advanced Plotting</h2>
<p>theme_blank() ggthemes annotating? typically needing long format? gather?</p>
<p>extentions? We would be remiss not to mention the amazing collection of open source “extensions” that make it easier to produce beautiful plots. These are ggextentions.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tools.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="datatransformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jeffboichuk/r4ma/edit/master/03-dataviz.Rmd",
"text": "Edit"
},
"download": ["r4ma.pdf", "r4ma.epub", "r4ma.mobi"],
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
